# 谈谈「代码大全」给我带来的启示(1)
已经不记得多少次被人推荐「代码大全」这本书了,由于翻译年代已久,而且没有再版,只买到了影印版，从这周才开始看起,目前才刚看完第四章。总结下我读到的内容。  
「代码大全」这本书的书名翻译其实有点问题, code complete的意思更多的是 "完成代码" 而不是"代码大全",这本书前半部分讲的主要是如何构建一个成熟的软件。

一个成熟的软件,应该花费更多的时间在前期的需求分析上,这是降低软件成本的首要条件,看似这个观点和国内现在的现状完全不符，现在国内的大部分公司开发以 webApp 为主流,以需求的快速迭代为目标，往往一个版本的需求还未完成，下个版本的需求就已经在路上了。 看似这种方式十分高效，但这种情况和996一样，软件的迭代和升级是以低成本的人力为前提，当项目发展起来后，到了某个时间点就不得不拓展团队人数，需要更多的人力和时间来进行重构来使软件的开发得以进行下去，往往这个时候软件的开发和迭代就会陷入停滞，而停滞的时间以及浪费的人力，就是前期不进行深入的需求调研以及需求技术分析的恶果，「代码大全」里对bug的修复成本进行了统计，发现bug的修复成本是随着发现的阶段递增的，在需求分析阶段发现的Bug修复成本是最低的，而当这个Bug到了测试阶段或者到了发布之后，将会付出沉重的代价。这是软件发展的必然规律，无法逃避。

同时「代码大全」前部分还提出了一个观点:面向接口构建项目，将所有的代码进行封装，使代码实现与接口隔离开来。不得不说，这个观点非常深刻，无论是设计模式里提到的“聚合大于继承”，还是各种getter setter方法，抑或是现在云服务的 RPC 概念，都印证了这个观点，所有的开发者应该开发状态明确 封装合适的软件，方便其他人可以毫无负担的调用你的接口而不用了解你的实现，如果需要别人仔细阅读你的代码实现才能理解你的软件逻辑，说明你的开发思路是有问题的。

前部分同时还给出了一个在构建时的技巧:先将系统拆分成不同的模块，然后根据模块逐一列举需要的类，再逐个列举类需要的各种方法，逐一实现这些方法。这个观点和“分治法”很像，即把大的问题分割成小的问题，逐一解决再进行统一，我在最初接触开发的时候一直觉得画UML图是一件浪费时间和精力的事情，其实现在想想不然，一个好的开发者应该对自己开发的内容有所了解和掌握，对开发有所预期。其实在目前贫血MVC模式下的WEB开发是不需要太多考虑类和设计模式这些东西的，但就如DDD的设计思想一样，一个易于维护的软件应该有完备的建模，这样才能更好的抽象和维护测试。

以上就是我在读完「代码大全」前4章后得到的内容，或许在多年之后再读起这篇文章的时候，得出的结论又会有所不同吧。:)